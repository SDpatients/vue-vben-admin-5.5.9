# 统计管理API汇总

> 文档创建日期：2026-01-20
> 文档版本：v1.0
> 适用对象：前端开发人员

---

## 目录

- [概述](#概述)
- [通用说明](#通用说明)
- [API接口列表](#api接口列表)
  - [1. 资金流水统计](#1-资金流水统计)
  - [2. 资金审批统计](#2-资金审批统计)
  - [3. 资金账户统计](#3-资金账户统计)
  - [4. 工作计划统计](#4-工作计划统计)
  - [5. 资金流水趋势分析](#5-资金流水趋势分析)
  - [6. 资金审批趋势分析](#6-资金审批趋势分析)
  - [7. 案件趋势分析](#7-案件趋势分析)
  - [8. 案件状态与进度交叉分析](#8-案件状态与进度交叉分析)
  - [9. 案件金额排名](#9-案件金额排名)
  - [10. 债权申报金额排名](#10-债权申报金额排名)
  - [11. 资金流水导出](#11-资金流水导出)
  - [12. 资金审批导出](#12-资金审批导出)
  - [13. 资金账户导出](#13-资金账户导出)
  - [14. 工作计划导出](#14-工作计划导出)
  - [15. 资金审批导出（分页）](#15-资金审批导出分页)
  - [16. 资金账户导出（分页）](#16-资金账户导出分页)
  - [17. 工作计划导出（分页）](#17-工作计划导出分页)
  - [18. 债权申报统计](#18-债权申报统计)
  - [19. 案件统计](#19-案件统计)
- [错误码说明](#错误码说明)
- [数据模型说明](#数据模型说明)

---

## 概述

本文档详细描述了破产案件管理系统中所有与统计管理相关的API接口，包括资金统计、案件统计、债权申报统计、趋势分析、排名统计等功能模块。所有接口均采用RESTful风格，返回统一的响应格式。

---

## 通用说明

### 基础URL

```
http://localhost:8080
```

### 认证方式

所有统计管理接口需要用户登录认证，系统会自动验证用户权限：
- 统计查看权限：`statistics:view`
- 案件访问权限：需要用户对指定案件有访问权限

### 统一响应格式

所有接口返回统一的数据格式：

```json
{
  "code": 200,
  "message": "success",
  "data": {}
}
```

**字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| code | Integer | 响应状态码，200表示成功，其他表示失败 |
| message | String | 响应消息 |
| data | Object | 响应数据，具体结构见各接口说明 |

### 日期格式

- 日期参数格式：`yyyy-MM-dd`（如：2026-01-20）
- 日期时间格式：`yyyy-MM-dd HH:mm:ss`

---

## API接口列表

### 1. 资金流水统计

获取指定案件的资金流水统计数据。

#### 接口信息

- **接口路径**：`/statistics/fund-transaction`
- **请求方法**：`GET`
- **功能描述**：统计指定案件的资金流水情况，包括收入、支出、净额等数据

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-transaction?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalTransactions": 150,
    "totalIncome": 80,
    "totalExpense": 70,
    "totalIncomeAmount": 5000000.00,
    "totalExpenseAmount": 3000000.00,
    "netAmount": 2000000.00,
    "byTransactionType": {
      "收入": 80,
      "支出": 70
    }
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalTransactions | Long | 总交易笔数 |
| totalIncome | Long | 收入笔数 |
| totalExpense | Long | 支出笔数 |
| totalIncomeAmount | Double | 收入总金额 |
| totalExpenseAmount | Double | 支出总金额 |
| netAmount | Double | 净额（收入-支出） |
| byTransactionType | Map<String, Long> | 按交易类型统计 |

#### 使用场景

- 查看案件资金流水概览
- 统计案件资金收支情况
- 监控资金净额变化

---

### 2. 资金审批统计

获取指定案件的资金审批统计数据。

#### 接口信息

- **接口路径**：`/statistics/fund-approval`
- **请求方法**：`GET`
- **功能描述**：统计指定案件的资金审批情况，包括待审批、已审批、已驳回等数据

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-approval?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalApprovals": 50,
    "pendingApprovals": 10,
    "approvedApprovals": 35,
    "rejectedApprovals": 5,
    "totalApprovedAmount": 2000000.00,
    "totalRejectedAmount": 500000.00,
    "byApprovalType": {
      "预算审批": 20,
      "报销审批": 15,
      "资金划拨": 15
    }
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalApprovals | Long | 总审批数 |
| pendingApprovals | Long | 待审批数 |
| approvedApprovals | Long | 已审批通过数 |
| rejectedApprovals | Long | 已驳回数 |
| totalApprovedAmount | Double | 已审批通过总金额 |
| totalRejectedAmount | Double | 已驳回总金额 |
| byApprovalType | Map<String, Long> | 按审批类型统计 |

#### 使用场景

- 查看案件资金审批概况
- 统计审批通过率和驳回率
- 监控待审批事项

---

### 3. 资金账户统计

获取指定案件的资金账户统计数据。

#### 接口信息

- **接口路径**：`/statistics/fund-account`
- **请求方法**：`GET`
- **功能描述**：统计指定案件的资金账户情况，包括账户数量、余额、冻结金额等数据

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-account?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalAccounts": 5,
    "activeAccounts": 4,
    "inactiveAccounts": 1,
    "totalBalance": 10000000.00,
    "totalFrozenAmount": 500000.00,
    "byAccountType": {
      "基本户": 2,
      "一般户": 2,
      "专用户": 1
    }
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalAccounts | Long | 总账户数 |
| activeAccounts | Long | 活跃账户数 |
| inactiveAccounts | Long | 非活跃账户数 |
| totalBalance | Double | 总余额 |
| totalFrozenAmount | Double | 总冻结金额 |
| byAccountType | Map<String, Long> | 按账户类型统计 |

#### 使用场景

- 查看案件资金账户概况
- 统计账户余额和冻结金额
- 监控账户状态

---

### 4. 工作计划统计

获取指定案件的工作计划统计数据。

#### 接口信息

- **接口路径**：`/statistics/work-plan`
- **请求方法**：`GET`
- **功能描述**：统计指定案件的工作计划执行情况，包括未开始、进行中、已完成、延期等数据

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/work-plan?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalPlans": 30,
    "notStartedPlans": 5,
    "inProgressPlans": 10,
    "completedPlans": 12,
    "delayedPlans": 2,
    "cancelledPlans": 1,
    "byPlanType": {
      "债权申报": 10,
      "资产处置": 8,
      "分配执行": 7,
      "其他": 5
    }
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalPlans | Long | 总计划数 |
| notStartedPlans | Long | 未开始数 |
| inProgressPlans | Long | 进行中数 |
| completedPlans | Long | 已完成数 |
| delayedPlans | Long | 延期数 |
| cancelledPlans | Long | 已取消数 |
| byPlanType | Map<String, Long> | 按计划类型统计 |

#### 使用场景

- 查看案件工作计划执行概况
- 统计计划完成率
- 监控延期和取消的计划

---

### 5. 资金流水趋势分析

分析指定案件的资金流水时间趋势。

#### 接口信息

- **接口路径**：`/statistics/fund-transaction/trend`
- **请求方法**：`GET`
- **功能描述**：按时间周期分析资金流水趋势，支持月度、季度、年度统计

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| caseId | Long | 是 | - | 案件ID |
| period | String | 否 | month | 周期类型：month（月度）/quarter（季度）/year（年度） |

#### 请求示例

```http
GET /statistics/fund-transaction/trend?caseId=1&period=month
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "month",
    "trendData": [
      {
        "date": "2026-01",
        "count": 15,
        "amount": 500000.00
      },
      {
        "date": "2026-02",
        "count": 20,
        "amount": 600000.00
      }
    ],
    "totalCount": 150,
    "totalAmount": 5000000.00,
    "averageGrowthRate": 5.2
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 统计周期类型 |
| trendData | List<TrendData> | 趋势数据列表 |
| totalCount | Long | 总数量 |
| totalAmount | BigDecimal | 总金额 |
| averageGrowthRate | Double | 平均增长率（%） |

**TrendData字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| date | String | 日期 |
| count | Long | 数量 |
| amount | BigDecimal | 金额 |

#### 使用场景

- 分析资金流水时间趋势
- 预测未来资金流动
- 生成资金流水趋势图表

---

### 6. 资金审批趋势分析

分析指定案件的资金审批时间趋势。

#### 接口信息

- **接口路径**：`/statistics/fund-approval/trend`
- **请求方法**：`GET`
- **功能描述**：按时间周期分析资金审批趋势，支持月度、季度、年度统计

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| caseId | Long | 是 | - | 案件ID |
| period | String | 否 | month | 周期类型：month（月度）/quarter（季度）/year（年度） |

#### 请求示例

```http
GET /statistics/fund-approval/trend?caseId=1&period=month
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "month",
    "trendData": [
      {
        "date": "2026-01",
        "count": 10,
        "amount": 300000.00
      },
      {
        "date": "2026-02",
        "count": 12,
        "amount": 350000.00
      }
    ],
    "totalCount": 50,
    "totalAmount": 2000000.00,
    "averageGrowthRate": 3.8
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 统计周期类型 |
| trendData | List<TrendData> | 趋势数据列表 |
| totalCount | Long | 总数量 |
| totalAmount | BigDecimal | 总金额 |
| averageGrowthRate | Double | 平均增长率（%） |

#### 使用场景

- 分析资金审批时间趋势
- 监控审批效率变化
- 生成审批趋势图表

---

### 7. 案件趋势分析

分析所有案件的时间趋势。

#### 接口信息

- **接口路径**：`/statistics/case/trend`
- **请求方法**：`GET`
- **功能描述**：按时间周期分析案件数量趋势，支持月度、季度、年度统计

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| period | String | 否 | month | 周期类型：month（月度）/quarter（季度）/year（年度） |

#### 请求示例

```http
GET /statistics/case/trend?period=month
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "month",
    "trendData": [
      {
        "date": "2026-01",
        "count": 5,
        "amount": null
      },
      {
        "date": "2026-02",
        "count": 8,
        "amount": null
      }
    ],
    "totalCount": 50,
    "totalAmount": null,
    "averageGrowthRate": 10.5
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 统计周期类型 |
| trendData | List<TrendData> | 趋势数据列表 |
| totalCount | Long | 总案件数 |
| totalAmount | BigDecimal | 总金额（案件统计时为null） |
| averageGrowthRate | Double | 平均增长率（%） |

#### 使用场景

- 分析案件数量增长趋势
- 预测未来案件数量
- 生成案件趋势图表

---

### 8. 案件状态与进度交叉分析

分析案件状态与进度的交叉分布情况。

#### 接口信息

- **接口路径**：`/statistics/case/cross-analysis`
- **请求方法**：`GET`
- **功能描述**：交叉分析案件状态和进度的分布情况，用于多维数据分析

#### 请求参数

无

#### 请求示例

```http
GET /statistics/case/cross-analysis
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "case",
    "crossData": {
      "待受理": {
        "申报期": 5,
        "审查期": 0,
        "分配期": 0
      },
      "受理中": {
        "申报期": 10,
        "审查期": 8,
        "分配期": 2
      },
      "已结案": {
        "申报期": 0,
        "审查期": 0,
        "分配期": 25
      }
    },
    "totalCount": 50,
    "statusDistribution": {
      "待受理": 5,
      "受理中": 20,
      "已结案": 25
    },
    "progressDistribution": {
      "申报期": 15,
      "审查期": 8,
      "分配期": 27
    }
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 分析类型 |
| crossData | Map<String, Map<String, Long>> | 交叉分析数据（状态->进度->数量） |
| totalCount | Long | 总案件数 |
| statusDistribution | Map<String, Long> | 状态分布 |
| progressDistribution | Map<String, Long> | 进度分布 |

#### 使用场景

- 多维分析案件分布情况
- 生成交叉分析图表（如热力图）
- 了解案件状态与进度的关联关系

---

### 9. 案件金额排名

获取案件金额排名数据。

#### 接口信息

- **接口路径**：`/statistics/case/amount-ranking`
- **请求方法**：`GET`
- **功能描述**：按案件金额进行排名，返回前N名案件

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| topN | Integer | 否 | 10 | 返回前N名 |

#### 请求示例

```http
GET /statistics/case/amount-ranking?topN=10
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "case",
    "sortBy": "amount",
    "topN": 10,
    "rankings": [
      {
        "rank": 1,
        "id": 10,
        "name": "某某公司破产案",
        "amount": 10000000.00,
        "percentage": 20.5
      },
      {
        "rank": 2,
        "id": 5,
        "name": "某某集团破产案",
        "amount": 8000000.00,
        "percentage": 16.4
      }
    ],
    "totalAmount": 50000000.00
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 排名类型 |
| sortBy | String | 排序字段 |
| topN | Integer | 返回数量 |
| rankings | List<RankingItem> | 排名列表 |
| totalAmount | BigDecimal | 总金额 |

**RankingItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| rank | Integer | 排名 |
| id | Long | 案件ID |
| name | String | 案件名称 |
| amount | BigDecimal | 金额 |
| percentage | Double | 占比（%） |

#### 使用场景

- 查看金额最大的案件
- 生成金额排名图表
- 分析案件金额分布

---

### 10. 债权申报金额排名

获取债权申报金额排名数据。

#### 接口信息

- **接口路径**：`/statistics/creditor-claim/amount-ranking`
- **请求方法**：`GET`
- **功能描述**：按债权申报金额进行排名，返回前N名债权

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| topN | Integer | 否 | 10 | 返回前N名 |

#### 请求示例

```http
GET /statistics/creditor-claim/amount-ranking?topN=10
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "type": "creditor-claim",
    "sortBy": "amount",
    "topN": 10,
    "rankings": [
      {
        "rank": 1,
        "id": 100,
        "name": "某某银行",
        "amount": 5000000.00,
        "percentage": 25.0
      },
      {
        "rank": 2,
        "id": 105,
        "name": "某某投资公司",
        "amount": 3000000.00,
        "percentage": 15.0
      }
    ],
    "totalAmount": 20000000.00
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| type | String | 排名类型 |
| sortBy | String | 排序字段 |
| topN | Integer | 返回数量 |
| rankings | List<RankingItem> | 排名列表 |
| totalAmount | BigDecimal | 总金额 |

**RankingItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| rank | Integer | 排名 |
| id | Long | 债权ID |
| name | String | 债权人名称 |
| amount | BigDecimal | 申报金额 |
| percentage | Double | 占比（%） |

#### 使用场景

- 查看金额最大的债权申报
- 生成债权金额排名图表
- 分析债权金额分布

---

### 11. 资金流水导出

导出指定案件的资金流水数据。

#### 接口信息

- **接口路径**：`/statistics/fund-transaction/export`
- **请求方法**：`GET`
- **功能描述**：导出指定案件的所有资金流水数据，用于报表生成或数据分析

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-transaction/export?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "transactions": [
      {
        "id": 1,
        "transactionNumber": "TXN202601200001",
        "transactionType": "收入",
        "transactionAmount": 500000.00,
        "transactionDirection": "入账",
        "transactionTime": "2026-01-20 10:30:00",
        "accountName": "基本户",
        "accountNumber": "1234567890",
        "transactionDescription": "资产处置收入",
        "status": "已完成"
      }
    ],
    "fileName": "资金流水导出_20260120.xlsx",
    "totalCount": 150
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| transactions | List<FundTransactionExportItem> | 资金流水列表 |
| fileName | String | 导出文件名 |
| totalCount | Long | 总记录数 |

**FundTransactionExportItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | Long | 交易ID |
| transactionNumber | String | 交易编号 |
| transactionType | String | 交易类型 |
| transactionAmount | BigDecimal | 交易金额 |
| transactionDirection | String | 交易方向（入账/出账） |
| transactionTime | LocalDateTime | 交易时间 |
| accountName | String | 账户名称 |
| accountNumber | String | 账户号码 |
| transactionDescription | String | 交易说明 |
| status | String | 状态 |

#### 使用场景

- 导出资金流水报表
- 生成Excel文件
- 数据备份和分析

---

### 12. 资金审批导出

导出指定案件的资金审批数据。

#### 接口信息

- **接口路径**：`/statistics/fund-approval/export`
- **请求方法**：`GET`
- **功能描述**：导出指定案件的所有资金审批数据，用于报表生成或数据分析

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-approval/export?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "approvals": [
      {
        "id": 1,
        "approvalNumber": "APR202601200001",
        "approvalType": "预算审批",
        "amount": 100000.00,
        "approvalStatus": "已通过",
        "approverName": "张三",
        "approvalTime": "2026-01-20 14:30:00",
        "approvalOpinion": "同意",
        "rejectionReason": null,
        "status": "已完成"
      }
    ],
    "fileName": "资金审批导出_20260120.xlsx",
    "totalCount": 50
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| approvals | List<FundApprovalExportItem> | 资金审批列表 |
| fileName | String | 导出文件名 |
| totalCount | Long | 总记录数 |

**FundApprovalExportItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | Long | 审批ID |
| approvalNumber | String | 审批编号 |
| approvalType | String | 审批类型 |
| amount | BigDecimal | 审批金额 |
| approvalStatus | String | 审批状态 |
| approverName | String | 审批人姓名 |
| approvalTime | LocalDateTime | 审批时间 |
| approvalOpinion | String | 审批意见 |
| rejectionReason | String | 驳回原因 |
| status | String | 状态 |

#### 使用场景

- 导出资金审批报表
- 生成Excel文件
- 审批记录查询

---

### 13. 资金账户导出

导出指定案件的资金账户数据。

#### 接口信息

- **接口路径**：`/statistics/fund-account/export`
- **请求方法**：`GET`
- **功能描述**：导出指定案件的所有资金账户数据，用于报表生成或数据分析

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/fund-account/export?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "accounts": [
      {
        "id": 1,
        "accountName": "基本户",
        "accountType": "基本户",
        "accountPurpose": "日常资金收付",
        "currentBalance": 5000000.00,
        "initialBalance": 1000000.00,
        "status": "正常",
        "isFrozen": false,
        "freezeDate": null,
        "freezeReason": null,
        "bankName": "中国工商银行",
        "bankAccount": "1234567890",
        "openingDate": "2026-01-01 09:00:00"
      }
    ],
    "fileName": "资金账户导出_20260120.xlsx",
    "totalCount": 5
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| accounts | List<FundAccountExportItem> | 资金账户列表 |
| fileName | String | 导出文件名 |
| totalCount | Long | 总记录数 |

**FundAccountExportItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | Long | 账户ID |
| accountName | String | 账户名称 |
| accountType | String | 账户类型 |
| accountPurpose | String | 账户用途 |
| currentBalance | BigDecimal | 当前余额 |
| initialBalance | BigDecimal | 初始余额 |
| status | String | 状态 |
| isFrozen | Boolean | 是否冻结 |
| freezeDate | LocalDateTime | 冻结日期 |
| freezeReason | String | 冻结原因 |
| bankName | String | 银行名称 |
| bankAccount | String | 银行账号 |
| openingDate | LocalDateTime | 开户日期 |

#### 使用场景

- 导出资金账户报表
- 生成Excel文件
- 账户信息查询

---

### 14. 工作计划导出

导出指定案件的工作计划数据。

#### 接口信息

- **接口路径**：`/statistics/work-plan/export`
- **请求方法**：`GET`
- **功能描述**：导出指定案件的所有工作计划数据，用于报表生成或数据分析

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 是 | 案件ID |

#### 请求示例

```http
GET /statistics/work-plan/export?caseId=1
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "plans": [
      {
        "id": 1,
        "planNumber": "WP202601200001",
        "planType": "债权申报",
        "planName": "完成第一批债权申报审核",
        "executionStatus": "进行中",
        "plannedStartDate": "2026-01-15",
        "plannedEndDate": "2026-01-30",
        "actualStartDate": "2026-01-15",
        "actualEndDate": null,
        "responsiblePerson": "李四",
        "priority": "高",
        "status": "正常"
      }
    ],
    "fileName": "工作计划导出_20260120.xlsx",
    "totalCount": 30
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| plans | List<WorkPlanExportItem> | 工作计划列表 |
| fileName | String | 导出文件名 |
| totalCount | Long | 总记录数 |

**WorkPlanExportItem字段说明：**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | Long | 计划ID |
| planNumber | String | 计划编号 |
| planType | String | 计划类型 |
| planName | String | 计划名称 |
| executionStatus | String | 执行状态 |
| plannedStartDate | LocalDate | 计划开始日期 |
| plannedEndDate | LocalDate | 计划结束日期 |
| actualStartDate | LocalDate | 实际开始日期 |
| actualEndDate | LocalDate | 实际结束日期 |
| responsiblePerson | String | 负责人 |
| priority | String | 优先级 |
| status | String | 状态 |

#### 使用场景

- 导出工作计划报表
- 生成Excel文件
- 计划执行情况查询

---

### 15. 资金审批导出（分页）

分页导出指定案件的资金审批数据。

#### 接口信息

- **接口路径**：`/statistics/fund-approval/export-paged`
- **请求方法**：`GET`
- **功能描述**：分页导出指定案件的资金审批数据，支持大数据量导出

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| caseId | Long | 是 | - | 案件ID |
| page | Integer | 否 | 0 | 页码（从0开始） |
| size | Integer | 否 | 100 | 每页大小 |

#### 请求示例

```http
GET /statistics/fund-approval/export-paged?caseId=1&page=0&size=100
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "approvals": [
      {
        "id": 1,
        "approvalNumber": "APR202601200001",
        "approvalType": "预算审批",
        "amount": 100000.00,
        "approvalStatus": "已通过",
        "approverName": "张三",
        "approvalTime": "2026-01-20 14:30:00",
        "approvalOpinion": "同意",
        "rejectionReason": null,
        "status": "已完成"
      }
    ],
    "fileName": "资金审批导出_20260120.xlsx",
    "totalCount": 50
  }
}
```

#### 响应字段说明

同【12. 资金审批导出】

#### 使用场景

- 大数据量分页导出
- 避免一次性导出过多数据
- 分批处理数据

---

### 16. 资金账户导出（分页）

分页导出指定案件的资金账户数据。

#### 接口信息

- **接口路径**：`/statistics/fund-account/export-paged`
- **请求方法**：`GET`
- **功能描述**：分页导出指定案件的资金账户数据，支持大数据量导出

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| caseId | Long | 是 | - | 案件ID |
| page | Integer | 否 | 0 | 页码（从0开始） |
| size | Integer | 否 | 100 | 每页大小 |

#### 请求示例

```http
GET /statistics/fund-account/export-paged?caseId=1&page=0&size=100
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "accounts": [
      {
        "id": 1,
        "accountName": "基本户",
        "accountType": "基本户",
        "accountPurpose": "日常资金收付",
        "currentBalance": 5000000.00,
        "initialBalance": 1000000.00,
        "status": "正常",
        "isFrozen": false,
        "freezeDate": null,
        "freezeReason": null,
        "bankName": "中国工商银行",
        "bankAccount": "1234567890",
        "openingDate": "2026-01-01 09:00:00"
      }
    ],
    "fileName": "资金账户导出_20260120.xlsx",
    "totalCount": 5
  }
}
```

#### 响应字段说明

同【13. 资金账户导出】

#### 使用场景

- 大数据量分页导出
- 避免一次性导出过多数据
- 分批处理数据

---

### 17. 工作计划导出（分页）

分页导出指定案件的工作计划数据。

#### 接口信息

- **接口路径**：`/statistics/work-plan/export-paged`
- **请求方法**：`GET`
- **功能描述**：分页导出指定案件的工作计划数据，支持大数据量导出

#### 请求参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| caseId | Long | 是 | - | 案件ID |
| page | Integer | 否 | 0 | 页码（从0开始） |
| size | Integer | 否 | 100 | 每页大小 |

#### 请求示例

```http
GET /statistics/work-plan/export-paged?caseId=1&page=0&size=100
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "plans": [
      {
        "id": 1,
        "planNumber": "WP202601200001",
        "planType": "债权申报",
        "planName": "完成第一批债权申报审核",
        "executionStatus": "进行中",
        "plannedStartDate": "2026-01-15",
        "plannedEndDate": "2026-01-30",
        "actualStartDate": "2026-01-15",
        "actualEndDate": null,
        "responsiblePerson": "李四",
        "priority": "高",
        "status": "正常"
      }
    ],
    "fileName": "工作计划导出_20260120.xlsx",
    "totalCount": 30
  }
}
```

#### 响应字段说明

同【14. 工作计划导出】

#### 使用场景

- 大数据量分页导出
- 避免一次性导出过多数据
- 分批处理数据

---

### 18. 债权申报统计

获取债权申报统计数据，支持多条件筛选。

#### 接口信息

- **接口路径**：`/creditor-claim-statistics`
- **请求方法**：`GET`
- **功能描述**：根据条件获取债权申报统计数据，支持按日期范围、案件ID、状态等条件筛选

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| caseId | Long | 否 | 案件ID |
| startDate | String | 否 | 开始日期（格式：yyyy-MM-dd） |
| endDate | String | 否 | 结束日期（格式：yyyy-MM-dd） |
| registrationStatus | String | 否 | 登记状态 |
| claimType | String | 否 | 债权类型 |
| claimNature | String | 否 | 债权性质 |

#### 请求示例

```http
GET /creditor-claim-statistics?caseId=1&startDate=2026-01-01&endDate=2026-01-20&registrationStatus=已登记
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalClaims": 100,
    "pendingClaims": 10,
    "registeredClaims": 80,
    "rejectedClaims": 10,
    "statusDistribution": {
      "待登记": 10,
      "已登记": 80,
      "已驳回": 10
    },
    "claimTypeDistribution": {
      "普通债权": 70,
      "有担保债权": 20,
      "其他债权": 10
    },
    "claimNatureDistribution": {
      "本金": 80,
      "利息": 15,
      "违约金": 5
    },
    "totalPrincipalAmount": 50000000.00,
    "totalInterestAmount": 5000000.00,
    "totalPenaltyAmount": 1000000.00,
    "totalOtherLossesAmount": 500000.00,
    "totalClaimAmount": 56500000.00,
    "averageClaimAmount": 565000.00,
    "todayCreatedClaims": 5,
    "monthCreatedClaims": 20,
    "yearCreatedClaims": 100,
    "hasCourtJudgmentClaims": 30,
    "hasExecutionClaims": 20,
    "hasCollateralClaims": 25
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalClaims | Long | 总债权数 |
| pendingClaims | Long | 待登记债权数 |
| registeredClaims | Long | 已登记债权数 |
| rejectedClaims | Long | 已驳回债权数 |
| statusDistribution | Map<String, Long> | 状态分布 |
| claimTypeDistribution | Map<String, Long> | 债权类型分布 |
| claimNatureDistribution | Map<String, Long> | 债权性质分布 |
| totalPrincipalAmount | BigDecimal | 本金总额 |
| totalInterestAmount | BigDecimal | 利息总额 |
| totalPenaltyAmount | BigDecimal | 违约金总额 |
| totalOtherLossesAmount | BigDecimal | 其他损失总额 |
| totalClaimAmount | BigDecimal | 申报总额 |
| averageClaimAmount | BigDecimal | 平均申报金额 |
| todayCreatedClaims | Long | 今日新增债权数 |
| monthCreatedClaims | Long | 本月新增债权数 |
| yearCreatedClaims | Long | 本年新增债权数 |
| hasCourtJudgmentClaims | Long | 有法院判决的债权数 |
| hasExecutionClaims | Long | 有执行的债权数 |
| hasCollateralClaims | Long | 有担保的债权数 |

#### 使用场景

- 查看债权申报总体情况
- 统计债权金额分布
- 分析债权类型和性质
- 监控债权申报进度

---

### 19. 案件统计

获取案件统计数据，支持多条件筛选。

#### 接口信息

- **接口路径**：`/case-statistics`
- **请求方法**：`GET`
- **功能描述**：根据条件获取案件统计数据，支持按日期范围、法院、状态等条件筛选

#### 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| startDate | String | 否 | 开始日期（格式：yyyy-MM-dd） |
| endDate | String | 否 | 结束日期（格式：yyyy-MM-dd） |
| courtId | Long | 否 | 法院ID |
| caseStatus | String | 否 | 案件状态 |
| caseProgress | String | 否 | 案件进度 |

#### 请求示例

```http
GET /case-statistics?startDate=2026-01-01&endDate=2026-01-20&caseStatus=受理中
```

#### 响应数据

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalCases": 50,
    "pendingCases": 5,
    "inProgressCases": 20,
    "approvedCases": 15,
    "completedCases": 8,
    "closedCases": 2,
    "terminatedCases": 0,
    "archivedCases": 0,
    "statusDistribution": {
      "待受理": 5,
      "受理中": 20,
      "已批准": 15,
      "已完成": 8,
      "已关闭": 2
    },
    "progressDistribution": {
      "申报期": 15,
      "审查期": 10,
      "分配期": 20,
      "结案期": 5
    },
    "simplifiedTrialCases": 30,
    "normalTrialCases": 20,
    "averageReviewCount": 3.5,
    "todayCreatedCases": 2,
    "monthCreatedCases": 10,
    "yearCreatedCases": 50
  }
}
```

#### 响应字段说明

| 字段名 | 类型 | 说明 |
|--------|------|------|
| totalCases | Long | 总案件数 |
| pendingCases | Long | 待受理案件数 |
| inProgressCases | Long | 受理中案件数 |
| approvedCases | Long | 已批准案件数 |
| completedCases | Long | 已完成案件数 |
| closedCases | Long | 已关闭案件数 |
| terminatedCases | Long | 已终止案件数 |
| archivedCases | Long | 已归档案件数 |
| statusDistribution | Map<String, Long> | 状态分布 |
| progressDistribution | Map<String, Long> | 进度分布 |
| simplifiedTrialCases | Long | 简易程序案件数 |
| normalTrialCases | Long | 普通程序案件数 |
| averageReviewCount | BigDecimal | 平均审查次数 |
| todayCreatedCases | Long | 今日新增案件数 |
| monthCreatedCases | Long | 本月新增案件数 |
| yearCreatedCases | Long | 本年新增案件数 |

#### 使用场景

- 查看案件总体情况
- 统计案件状态分布
- 分析案件进度情况
- 监控案件新增趋势

---

## 错误码说明

### 统一错误码

| 错误码 | 说明 | 处理建议 |
|--------|------|----------|
| 200 | 成功 | - |
| 401 | 未认证 | 请先登录 |
| 403 | 无权限 | 请联系管理员分配权限 |
| 404 | 资源不存在 | 检查请求参数是否正确 |
| 500 | 服务器内部错误 | 请联系技术支持 |

### 业务错误码

| 错误码 | 说明 | 处理建议 |
|--------|------|----------|
| 1001 | 缺少必填参数 | 检查请求参数是否完整 |
| 1002 | 参数格式错误 | 检查参数格式是否符合要求 |
| 1003 | 案件不存在 | 检查案件ID是否正确 |
| 1004 | 无案件访问权限 | 请联系管理员分配案件访问权限 |
| 1005 | 无统计查看权限 | 请联系管理员分配统计查看权限 |
| 1006 | 日期格式错误 | 请使用yyyy-MM-dd格式 |
| 1007 | 开始日期不能大于结束日期 | 请调整日期范围 |
| 1008 | 导出数据为空 | 该条件下无数据可导出 |
| 1009 | 分页参数错误 | 检查页码和每页大小参数 |

### 错误响应示例

```json
{
  "code": 1003,
  "message": "案件不存在",
  "data": null
}
```

---

## 数据模型说明

### TrendData（趋势数据）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| date | String | 日期 |
| count | Long | 数量 |
| amount | BigDecimal | 金额（可能为null） |

### RankingItem（排名项）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| rank | Integer | 排名 |
| id | Long | ID（案件ID或债权ID） |
| name | String | 名称 |
| amount | BigDecimal | 金额 |
| percentage | Double | 占比（%） |

---

## 附录

### 接口调用示例（JavaScript）

```javascript
// 设置基础URL
const BASE_URL = 'http://localhost:8080';

// 设置请求头（包含认证token）
const headers = {
  'Content-Type': 'application/json',
  'Authorization': 'Bearer YOUR_TOKEN_HERE'
};

// 示例1：获取资金流水统计
async function getFundTransactionStatistics(caseId) {
  const response = await fetch(`${BASE_URL}/statistics/fund-transaction?caseId=${caseId}`, {
    method: 'GET',
    headers: headers
  });
  const result = await response.json();
  if (result.code === 200) {
    console.log('资金流水统计：', result.data);
  } else {
    console.error('请求失败：', result.message);
  }
}

// 示例2：获取案件统计
async function getCaseStatistics(params) {
  const queryParams = new URLSearchParams(params).toString();
  const response = await fetch(`${BASE_URL}/case-statistics?${queryParams}`, {
    method: 'GET',
    headers: headers
  });
  const result = await response.json();
  if (result.code === 200) {
    console.log('案件统计：', result.data);
  } else {
    console.error('请求失败：', result.message);
  }
}

// 示例3：导出资金流水
async function exportFundTransactions(caseId) {
  const response = await fetch(`${BASE_URL}/statistics/fund-transaction/export?caseId=${caseId}`, {
    method: 'GET',
    headers: headers
  });
  const result = await response.json();
  if (result.code === 200) {
    console.log('导出成功：', result.data.fileName);
    console.log('总记录数：', result.data.totalCount);
  } else {
    console.error('导出失败：', result.message);
  }
}
```

### 接口调用示例（Axios）

```javascript
import axios from 'axios';

// 创建axios实例
const api = axios.create({
  baseURL: 'http://localhost:8080',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_TOKEN_HERE'
  }
});

// 示例1：获取资金流水统计
api.get('/statistics/fund-transaction', {
  params: { caseId: 1 }
})
.then(response => {
  console.log('资金流水统计：', response.data.data);
})
.catch(error => {
  console.error('请求失败：', error.response?.data?.message || error.message);
});

// 示例2：获取案件统计
api.get('/case-statistics', {
  params: {
    startDate: '2026-01-01',
    endDate: '2026-01-20',
    caseStatus: '受理中'
  }
})
.then(response => {
  console.log('案件统计：', response.data.data);
})
.catch(error => {
  console.error('请求失败：', error.response?.data?.message || error.message);
});

// 示例3：获取债权申报统计
api.get('/creditor-claim-statistics', {
  params: {
    caseId: 1,
    registrationStatus: '已登记'
  }
})
.then(response => {
  console.log('债权申报统计：', response.data.data);
})
.catch(error => {
  console.error('请求失败：', error.response?.data?.message || error.message);
});
```

---

## 更新日志

| 版本 | 日期 | 更新内容 | 更新人 |
|------|------|----------|--------|
| v1.0 | 2026-01-20 | 初始版本，整理所有统计管理API接口 | - |

---

## 联系方式

如有疑问或建议，请联系技术支持团队。

---

**文档结束**
