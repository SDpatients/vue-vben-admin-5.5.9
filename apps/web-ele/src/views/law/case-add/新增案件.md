# 新增案件接口调用说明

## 1. 案件创建接口

### 1.1 基本信息
- **接口地址**：`POST /api/web/AddOneCase`
- **请求方式**：POST
- **请求格式**：JSON
- **授权方式**：Bearer Token

### 1.2 请求参数
```json
{
    "AH": "3333",
    "AJMC": "3333",
    "SLRQ": null,
    "AJLY": "",
    "SLFY": "",
    "ZDJG": "浙江浦源律师事务所",
    "AJJD": "公告",
    "AY": "破产清算",
    "BEIZHU": "",
    "CBRY": "",
    "DEBTORS": [
      {
        "QYMC": "",
        "FDDBR": "",
        "ZCDZ": "",
        "SSHY": "",
        "JYFW": "",
        "QYLX": ""
      }
    ],
    "GLRFZR": "李主任",
    "LARQ": null,
    "PCSJ": null,
    "SEP_ADATE": "2025-12-30 03:54:35",
    "SEP_AUSER": "系统管理员",
    "SFJHS": "0",
    "WJSC": "Snipaste_2025-11-04_13-50-22.png",
    "ZQSBJZSJ": null
  }
```

### 1.3 响应示例
```json
{
  "status": "1",
  "error": "",
  "data": "123" // 案件ID
}
```

## 2. 批量文件上传接口

### 2.1 基本信息
- **接口地址**：`POST /api/file/batchUpload`
- **请求方式**：POST
- **请求格式**：FormData
- **授权方式**：Bearer Token

### 2.2 请求参数
| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| files | File[] | 是 | 上传的文件数组 |
| bizType | String | 是 | 业务类型，固定为 'case' |
| bizId | String | 是 | 业务ID，可为空，后端会处理 |

### 2.3 请求示例
```javascript
const formData = new FormData();
files.forEach(file => {
  formData.append('files', file);
});
formData.append('bizType', 'case');
formData.append('bizId', ''); // 可为空

axios.post('/api/file/batchUpload', formData, {
  headers: {
    'Content-Type': 'multipart/form-data',
    'Authorization': `Bearer ${token}`
  }
});
```

### 2.4 响应示例
```json
{
  "status": "1",
  "msg": "批量上传成功",
  "data": [
    {
      "id": 1,
      "originalFileName": "文件1.pdf",
      // 其他文件信息字段
    },
    {
      "id": 2,
      "originalFileName": "文件2.jpg",
      // 其他文件信息字段
    }
  ]
}

## 3. 调用顺序

点击新增案件按钮后，系统会并行调用以下两个接口：
1. 案件创建接口 `/api/web/AddOneCase`
2. 批量文件上传接口 `/api/file/batchUpload`

### 3.1 调用流程
1. 用户填写表单信息，选择文件
2. 点击"提交案件"按钮
3. 系统验证表单数据
4. 并行调用案件创建接口和文件上传接口
5. 根据接口响应结果显示成功或失败信息
6. 成功后跳转到案件管理页面







