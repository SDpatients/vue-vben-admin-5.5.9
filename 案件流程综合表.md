# 案件流程综合表

## 一、案件管理流程7个阶段总结

### 阶段一：申请与受理阶段

**核心功能：**
- 破产申请的提交与受理
- 法院审查与裁定
- 管理人指定与接管准备

**关键操作：**
1. 申请提交：债务人/债权人/清算责任人向法院提交破产申请书、证据材料
2. 案件办理：律师协助申请人梳理证据链，起草规范破产申请书
3. 法院审查：法院5日内通知债务人，债务人异议期7日
4. 请示批复：案件涉及跨区域财产处置等疑难问题的请示
5. 文书送达：法院向申请人、债务人送达破产申请受理通知书等
6. 裁定受理：法院裁定受理时同时指定管理人
7. 驳回/撤回：材料不全限期补正，逾期视为撤回

**业务目标：**
- 确保破产申请符合法定程序
- 及时受理符合条件的破产案件
- 指定合适的管理人接管案件

---

### 阶段二：管理人履职阶段

**核心功能：**
- 管理人全面接管债务人财产
- 资产评估与调查
- 重整价值识别

**关键操作：**
1. 接管义务：管理人接管债务人财产、印章、账簿、文书等资料
2. 工作日志：管理人建立工作日志，每日记录接管进度
3. 文书送达：管理人向债务人高管送达接管通知书
4. 资产评估：管理人委托评估机构对接管的资产进行全面评估
5. 调查管理：调查债务人财产状况，追回可撤销/无效行为转移的财产
6. 请示批复：管理人向法院提交关于行使破产撤销权的请示
7. 工作日志：详细记录财产调查线索、司法协助对接情况
8. 重整价值识别：分析债务人核心资产、技术优势、市场潜力
9. 权限限制：通知债务人有关人员配合工作
10. 文书送达：送达限制债务人有关人员权利通知书
11. 案件办理：将债务人高管配合义务纳入重点管控事项
12. 破产费用：单独建立破产费用台账，分类登记各项费用
13. 请示批复：破产费用超出初步预算的请示

**业务目标：**
- 全面掌握债务人财产状况
- 追回非法转移的财产
- 评估重整价值与可能性

---

### 阶段三：债权申报与核查阶段

**核心功能：**
- 债权申报通知与登记
- 债权真实性核查
- 债权确认与异议处理

**关键操作：**
1. 申报通知：管理人通知已知债权人，公告申报期限、地点、材料要求
2. 文书送达：通过邮寄、全国企业破产重整案件信息网公告等方式送达
3. 案件办理：设立债权申报登记点，专人负责接待与材料审核
4. 债权申报：债权人提交债权证明材料，管理人登记造册
5. 工作日志：记录每日债权申报数量、债权类型、材料完整性情况
6. 核查异议：债权表提交债权人会议核查，对有异议的债权提起确认之诉
7. 案件办理：管理人组建债权核查小组，逐笔审核债权真实性
8. 债权确认：法院裁定确认无异议债权，作为财产分配依据
9. 文书送达：法院送达债权确认裁定书

**业务目标：**
- 确保所有债权人及时申报债权
- 核实债权的真实性与合法性
- 为后续财产分配提供依据

---

### 阶段四：债权人会议阶段

**核心功能：**
- 召开债权人会议
- 审议重大事项
- 表决重要决议

**关键操作：**
1. 首次会议：法院自债权申报期限届满之日起15日内召集
2. 债权人会议：会前整理会议资料，送达全体参会债权人
3. 文书送达：送达债权人会议通知书、会议决议裁定书
4. 工作日志：记录会议争议焦点、债权人意见、表决票数统计情况
5. 破产费用：向债权人会议公示破产费用支出明细及台账
6. 后续会议：管理人/债权人委员会/占债权总额1/4以上债权人可提议召开
7. 债权人会议：就变价方案、分配方案的核心内容向债权人逐项说明
8. 请示批复：重整计划等重大事项表决存在争议的请示
9. 决议生效：决议经出席会议有表决权债权人过半数通过

**业务目标：**
- 保障债权人参与权与知情权
- 民主决策重大事项
- 维护债权人合法权益

---

### 阶段五：破产宣告阶段

**核心功能：**
- 破产宣告裁定
- 破产人身份确认
- 破产财产界定

**关键操作：**
1. 宣告条件：债务人符合破产条件，法院裁定宣告破产
2. 文书送达：法院送达破产宣告裁定书
3. 工作日志：记录破产宣告裁定送达时间、债务人反馈情况
4. 效力产生：债务人成为破产人，财产成为破产财产
5. 案件办理：将破产宣告后的财产管理、变价工作纳入核心议程
6. 程序衔接：宣告前可转入重整/和解，宣告后原则上不可逆转
7. 重整价值识别：管理人补充出具债务人重整价值最终评估报告

**业务目标：**
- 明确破产人身份
- 界定破产财产范围
- 为财产变价与分配做准备

---

### 阶段六：财产变价与分配阶段

**核心功能：**
- 破产财产变价
- 分配方案制定与执行
- 债权清偿

**关键操作：**
1. 变价方案：管理人拟订破产财产变价方案，提交债权人会议表决
2. 资产评估：结合前期资产评估报告，根据市场行情调整变价策略
3. 债权人会议：管理人就变价方案向债权人会议进行详细说明
4. 财产变价：通过拍卖等合法方式变价，提高财产价值
5. 案件办理：委托拍卖机构开展拍卖工作，全程监督拍卖流程
6. 工作日志：记录财产拍卖时间、竞拍方信息、成交价格及款项到账情况
7. 分配方案：管理人拟订分配方案，经债权人会议表决通过
8. 破产费用：在分配方案中明确破产费用、共益债务的清偿金额及顺序
9. 请示批复：分配方案表决通过后，管理人向法院提交请示
10. 财产分配：按法定顺序分配，提存未决债权分配额
11. 文书送达：管理人向各债权人送达破产财产分配通知书
12. 工作日志：记录分配款项支付时间、金额、收款人信息

**业务目标：**
- 最大化破产财产价值
- 按法定顺序公平清偿债权
- 确保分配过程透明公正

---

### 阶段七：破产程序终结阶段

**核心功能：**
- 破产程序终结申请
- 企业注销登记
- 管理人职责终止

**关键操作：**
1. 终结申请：管理人完成分配后，提交破产财产分配报告
2. 报结记录：管理人编制破产案件报结申请表
3. 工作日志：记录终结申请提交时间、法院接收情况
4. 法院裁定：法院15日内裁定终结，予以公告
5. 文书送达：法院送达终结破产程序裁定书
6. 注销登记：管理人自终结裁定之日起10日内办理注销登记
7. 案件办理：整理债务人注销所需材料，全程办理注销手续
8. 文书送达：将企业注销证明复印件送达法院及债权人委员会备案
9. 管理人终止：注销登记完毕，管理人职责终止
10. 报结记录：管理人完善破产案件报结记录
11. 工作日志：记录管理人职责终止时间、履职报告提交情况

**业务目标：**
- 完成破产程序法定终结
- 办理企业注销登记
- 结束管理人职责

---

## 二、案件流程综合数据表设计

### 表名：`case_process_record`

**表说明：**
本表用于记录破产案件管理流程中7个阶段、68个模块的所有操作记录，包括申请提交、管理人履职、债权申报、债权人会议、破产宣告、财产变价与分配、程序终结等全流程数据。

### 建表SQL语句

```sql
-- 创建案件流程记录表
CREATE TABLE `case_process_record` (
  `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT '主键ID',0
  `case_id` BIGINT NOT NULL COMMENT '案件ID，关联案件基本信息表',
  `case_number` VARCHAR(50) NOT NULL COMMENT '案号，冗余字段便于查询',
  `stage_id` TINYINT NOT NULL COMMENT '阶段ID：1-申请与受理阶段，2-管理人履职阶段，3-债权申报与核查阶段，4-债权人会议阶段，5-破产宣告阶段，6-财产变价与分配阶段，7-破产程序终结阶段',
  `stage_name` VARCHAR(50) NOT NULL COMMENT '阶段名称，如：申请与受理阶段',
  `module_id` VARCHAR(20) NOT NULL COMMENT '模块ID，如：1-1, 1-2等',
  `module_name` VARCHAR(100) NOT NULL COMMENT '模块名称（类型），每个模块的名称，如：申请提交、案件办理等',
  `title` VARCHAR(200) NOT NULL COMMENT '标题，记录的具体标题',
  `content` TEXT NOT NULL COMMENT '内容，详细描述记录的内容',
  `record_date` DATE NOT NULL COMMENT '记录日期，业务发生日期',
  `creator` VARCHAR(100) NOT NULL COMMENT '创建人，记录创建人姓名',
  `creator_id` BIGINT DEFAULT NULL COMMENT '创建人ID，关联用户表',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建日期，记录创建时间',
  `updater` VARCHAR(100) DEFAULT NULL COMMENT '修改人，最后修改人姓名',
  `updater_id` BIGINT DEFAULT NULL COMMENT '修改人ID，关联用户表',
  `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改日期，最后修改时间',
  `status` TINYINT NOT NULL DEFAULT 1 COMMENT '状态：1-正常，2-已删除',
  `priority` TINYINT DEFAULT 2 COMMENT '优先级：1-紧急，2-重要，3-普通',
  `attachment_count` INT DEFAULT 0 COMMENT '附件数量',
  `remark` VARCHAR(500) DEFAULT NULL COMMENT '备注信息',
  `tenant_id` BIGINT DEFAULT NULL COMMENT '租户ID，多租户场景使用',
  PRIMARY KEY (`id`),
  KEY `idx_case_id` (`case_id`),
  KEY `idx_case_number` (`case_number`),
  KEY `idx_stage_id` (`stage_id`),
  KEY `idx_module_id` (`module_id`),
  KEY `idx_record_date` (`record_date`),
  KEY `idx_create_time` (`create_time`),
  KEY `idx_creator_id` (`creator_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='案件流程记录表-记录破产案件7个阶段68个模块的全流程数据';
```

### 字段说明

| 字段名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| id | BIGINT | 是 | AUTO_INCREMENT | 主键ID |
| case_id | BIGINT | 是 | - | 案件ID，关联案件基本信息表 |
| case_number | VARCHAR(50) | 是 | - | 案号，冗余字段便于查询 |
| stage_id | TINYINT | 是 | - | 阶段ID：1-7 |
| stage_name | VARCHAR(50) | 是 | - | 阶段名称 |
| module_id | VARCHAR(20) | 是 | - | 模块ID，如：1-1, 1-2等 |
| module_name | VARCHAR(100) | 是 | - | 模块名称（类型） |
| title | VARCHAR(200) | 是 | - | 标题 |
| content | TEXT | 是 | - | 内容 |
| record_date | DATE | 是 | - | 记录日期 |
| creator | VARCHAR(100) | 是 | - | 创建人姓名 |
| creator_id | BIGINT | 否 | NULL | 创建人ID |
| create_time | DATETIME | 是 | CURRENT_TIMESTAMP | 创建日期 |
| updater | VARCHAR(100) | 否 | NULL | 修改人姓名 |
| updater_id | BIGINT | 否 | NULL | 修改人ID |
| update_time | DATETIME | 是 | CURRENT_TIMESTAMP | 修改日期 |
| status | TINYINT | 是 | 1 | 状态：1-正常，2-已删除 |
| priority | TINYINT | 否 | 2 | 优先级：1-紧急，2-重要，3-普通 |
| attachment_count | INT | 否 | 0 | 附件数量 |
| remark | VARCHAR(500) | 否 | NULL | 备注信息 |
| tenant_id | BIGINT | 否 | NULL | 租户ID |

### 索引说明

- **PRIMARY KEY**: 主键索引，基于id字段
- **idx_case_id**: 案件ID索引，用于按案件查询
- **idx_case_number**: 案号索引，用于按案号查询
- **idx_stage_id**: 阶段ID索引，用于按阶段筛选
- **idx_module_id**: 模块ID索引，用于按模块筛选
- **idx_record_date**: 记录日期索引，用于按日期范围查询
- **idx_create_time**: 创建时间索引，用于按创建时间排序
- **idx_creator_id**: 创建人ID索引，用于按创建人查询

### 数据示例

```sql
-- 示例数据插入
INSERT INTO `case_process_record` (
  `case_id`, `case_number`, `stage_id`, `stage_name`, `module_id`, `module_name`,
  `title`, `content`, `record_date`, `creator`, `creator_id`, `priority`
) VALUES
(1, '(2023)破字第001号', 1, '申请与受理阶段', '1-1', '申请提交',
 '破产申请书提交', '债务人某某公司向法院提交破产清算申请，包含资产负债表、债权债务清册等材料', '2023-01-15', '张三', 1001, 2),

(1, '(2023)破字第001号', 1, '申请与受理阶段', '1-2', '案件办理',
 '证据材料整理', '律师协助申请人梳理证据链，起草规范破产申请书', '2023-01-16', '李四', 1002, 2),

(1, '(2023)破字第001号', 2, '管理人履职阶段', '2-1', '接管义务',
 '财产印章接管', '管理人接管债务人财产、印章、账簿、文书等资料', '2023-01-20', '王五', 1003, 1),

(1, '(2023)破字第001号', 3, '债权申报与核查阶段', '3-1', '申报通知',
 '债权申报公告', '管理人通知已知债权人，公告申报期限、地点、材料要求', '2023-02-01', '赵六', 1004, 1);
```

### 常用查询示例

```sql
-- 查询某案件的所有流程记录
SELECT * FROM case_process_record WHERE case_id = 1 ORDER BY stage_id, module_id, create_time;

-- 查询某阶段的所有记录
SELECT * FROM case_process_record WHERE case_id = 1 AND stage_id = 2 ORDER BY create_time;

-- 查询某模块的所有记录
SELECT * FROM case_process_record WHERE case_id = 1 AND module_id = '2-1' ORDER BY create_time;

-- 按日期范围查询
SELECT * FROM case_process_record WHERE case_id = 1 AND record_date BETWEEN '2023-01-01' AND '2023-12-31';

-- 统计各阶段的记录数量
SELECT stage_id, stage_name, COUNT(*) as record_count
FROM case_process_record
WHERE case_id = 1
GROUP BY stage_id, stage_name
ORDER BY stage_id;

-- 查询某创建人的所有记录
SELECT * FROM case_process_record WHERE creator_id = 1001 ORDER BY create_time DESC;
```

---

## 三、数据表设计说明

### 1. 设计原则

- **规范化设计**：遵循数据库第三范式，避免数据冗余
- **扩展性**：预留tenant_id等字段，支持多租户场景
- **性能优化**：合理设置索引，提高查询效率
- **数据完整性**：设置主键、外键约束，确保数据一致性
- **审计追踪**：记录创建人、修改人、创建时间、修改时间，支持数据追溯

### 2. 字段补充说明

除了用户要求的基本字段外，还补充了以下字段：

- **case_id**: 关联案件基本信息表，支持多案件管理
- **case_number**: 冗余字段，便于快速查询
- **stage_id/stage_name**: 阶段信息，支持按阶段筛选和统计
- **module_id/module_name**: 模块信息，支持按模块筛选和统计
- **creator_id/updater_id**: 创建人/修改人ID，支持关联用户表
- **status**: 状态字段，支持软删除
- **priority**: 优先级字段，支持紧急程度标识
- **attachment_count**: 附件数量，支持附件管理
- **remark**: 备注字段，支持额外信息记录
- **tenant_id**: 租户ID，支持多租户场景

### 3. 业务特性支持

- **7个阶段全覆盖**：通过stage_id字段支持7个阶段的区分
- **68个模块管理**：通过module_id字段支持68个模块的区分
- **完整审计追踪**：记录创建人、修改人、创建时间、修改时间
- **灵活查询**：支持按案件、阶段、模块、日期、创建人等多维度查询
- **数据安全**：支持软删除，避免数据丢失

---

## 四、使用建议

1. **数据插入**：在新增流程记录时，确保case_id、stage_id、module_id等关键字段正确填写
2. **数据更新**：修改记录时，同时更新updater、updater_id、update_time字段
3. **数据删除**：采用软删除方式，将status字段设置为2，而非物理删除
4. **索引维护**：定期分析查询模式，优化索引策略
5. **数据备份**：定期备份数据，确保数据安全
